---
title: 이벤트 버블링과 캡처링
date: 2025-02-01 10:00:00 +09:00
categories: [프론트엔드, React]
tags: [React]
---

웹 애플리케이션에서 이벤트는 특정 요소에서 발생할 뿐만 아니라, **부모 요소 또는 조상 요소까지 전파**될 수도 있다.

이벤트가 전파되는 방식에는 이벤트 버블링(Event Bubbling)과 이벤트 캡처링(Event Capturing)이 있다.

---

## **1. 이벤트 흐름 (Event Propagation)**

DOM에서 이벤트가 발생하면 다음과 같은 3단계를 거쳐 전파된다.

1️⃣ **캡처링 단계 (Capturing Phase)**

이벤트가 **최상위 요소(document)에서 시작하여 이벤트 대상까지 내려오는 단계**

2️⃣ **타깃 단계 (Target Phase)**

이벤트가 **실제 이벤트가 발생한 요소에 도달하는 단계**

3️⃣ **버블링 단계 (Bubbling Phase)**

이벤트가 **이벤트 발생 요소에서 시작하여 부모 요소로 올라가는 단계**

---

## **2. 이벤트 버블링 (Event Bubbling)**

📌 **이벤트가 발생한 요소에서 부모 요소로 전파되는 현상**

✅ **동작 방식**

- 특정 요소에서 이벤트가 발생하면 **해당 요소에서 먼저 실행된 후 부모 요소로 이벤트가 전파됨**
- 가장 일반적인 이벤트 전파 방식으로, **기본적으로 모든 이벤트는 버블링됨**

✅ **예제 코드 (이벤트 버블링)**

```html
<div id="parent">
  <button id="child">Click Me</button>
</div>

<script>
  document.getElementById("parent").addEventListener("click", () => {
    console.log("부모 요소 클릭됨");
  });

  document.getElementById("child").addEventListener("click", () => {
    console.log("자식 요소 클릭됨");
  });
</script>
```

✅ **출력 결과 (버블링 발생)**

```
자식 요소 클릭됨
부모 요소 클릭됨

```

✔️ `child` 버튼을 클릭하면 **자식 요소 이벤트가 먼저 실행된 후 부모 요소로 이벤트가 전파**된다.

✅ **이벤트 버블링을 활용하는 경우**

✔️ **이벤트 위임(Event Delegation)**을 구현할 때 유용하게 사용됨

✔️ 동적으로 생성되는 요소에도 이벤트를 적용 가능

✅ **이벤트 버블링 중단**

버블링을 중단하고 싶다면 `event.stopPropagation()`을 사용하면 된다.

```
document.getElementById("child").addEventListener("click", (event) => {
  event.stopPropagation(); // 부모로 이벤트 전파 방지
  console.log("자식 요소 클릭됨");
});

```

이제 부모 요소의 이벤트 핸들러는 실행되지 않는다.

---

## **3. 이벤트 캡처링 (Event Capturing)**

📌 **이벤트가 최상위 요소에서 시작하여 이벤트 발생 요소까지 내려오는 현상**

✅ **동작 방식**

- 기본적으로 이벤트는 **버블링 방식으로 전파되지만, 캡처링을 사용하면 반대로 동작**
- `addEventListener`의 **세 번째 인자(true)**를 설정하면 **캡처링 단계에서 이벤트를 실행 가능**

✅ **예제 코드 (이벤트 캡처링)**

```html
<div id="parent">
  <button id="child">Click Me</button>
</div>

<script>
  document.getElementById("parent").addEventListener(
    "click",
    () => {
      console.log("부모 요소 클릭됨");
    },
    true // 캡처링 단계에서 실행
  );

  document.getElementById("child").addEventListener("click", () => {
    console.log("자식 요소 클릭됨");
  });
</script>
```

✅ **출력 결과 (캡처링 발생)**

```
부모 요소 클릭됨
자식 요소 클릭됨

```

✔️ `true` 값을 설정하면 **이벤트가 부모 요소에서 먼저 실행된 후 자식 요소로 내려감**

✅ **이벤트 캡처링을 활용하는 경우**

✔️ 특정 부모 요소에서 먼저 이벤트 처리를 해야 하는 경우

✔️ 이벤트가 특정 요소에 도달하기 전에 인터셉트해야 하는 경우

---

## **4. 이벤트 버블링 vs 이벤트 캡처링 비교**

| 구분                     | 이벤트 버블링 (Bubbling)                    | 이벤트 캡처링 (Capturing)                      |
| ------------------------ | ------------------------------------------- | ---------------------------------------------- |
| **이벤트 전파 방향**     | **자식 → 부모 (상향 전파)**                 | **부모 → 자식 (하향 전파)**                    |
| **기본 동작**            | 기본적으로 모든 이벤트가 버블링됨           | 기본적으로 동작하지 않음 (옵션 설정 필요)      |
| **우선 실행되는 핸들러** | 가장 안쪽(자식 요소)의 핸들러가 먼저 실행됨 | 가장 바깥쪽(부모 요소)의 핸들러가 먼저 실행됨  |
| **활용 사례**            | 이벤트 위임 (Event Delegation)              | 특정 요소에서 이벤트를 먼저 감지해야 하는 경우 |

---

## **5. 이벤트 위임 (Event Delegation)**

📌 **부모 요소에 이벤트를 등록하여 자식 요소의 이벤트를 처리하는 기법**

📌 **버블링을 이용하여 동적으로 생성되는 요소에도 이벤트를 적용 가능**

✅ **예제 코드 (이벤트 위임)**

```html
<ul id="list">
  <li>아이템 1</li>
  <li>아이템 2</li>
  <li>아이템 3</li>
</ul>

<script>
  document.getElementById("list").addEventListener("click", (event) => {
    if (event.target.tagName === "LI") {
      console.log(event.target.innerText + " 클릭됨");
    }
  });
</script>
```

✅ **출력 결과 (동적으로 추가된 요소도 이벤트 적용 가능)**

```
아이템 2 클릭됨

```

✔️ `list` 요소에만 이벤트 핸들러를 등록했지만, 클릭 이벤트가 자식 요소인 `li`까지 전파됨

✔️ 새롭게 추가된 `li` 요소에도 이벤트가 자동으로 적용됨

---

## **6. 실무에서의 활용법**

✅ **이벤트 버블링**

✔️ 버튼 클릭 시 부모 컨테이너에도 영향을 주고 싶을 때

✔️ 특정 이벤트가 발생했을 때 부모 요소에서도 추가적인 처리가 필요할 때

✅ **이벤트 캡처링**

✔️ 부모 요소에서 특정 이벤트를 감지하여 자식 요소의 이벤트 처리를 막고 싶을 때

✔️ 클릭 이벤트가 특정 요소에 도달하기 전에 인터셉트해야 할 때

✅ **이벤트 위임**

✔️ 동적으로 추가되는 요소에 이벤트를 적용할 때 (예: 무한 스크롤, 동적 리스트)

✔️ 성능 최적화를 위해 여러 개의 요소에 개별적으로 이벤트 리스너를 추가하는 대신, 부모 요소에서 한 번에 관리할 때

---

## **7. 결론**

🚀 **이벤트 버블링과 캡처링을 이해하면 이벤트 전파를 제어할 수 있으며, 이벤트 위임을 활용하면 성능을 최적화할 수 있다.**

🚀 **실무에서는 주로 이벤트 버블링을 활용하고, 필요할 때 `stopPropagation()`을 사용하여 전파를 차단한다.**

🚀 **동적으로 추가되는 요소가 많다면 이벤트 위임을 적극 활용하여 유지보수성과 성능을 향상시킨다.**
