---
title: Lazy Loading과 Code Splitting
date: 2025-02-01 10:00:00 +09:00
categories: [프론트엔드, React]
tags: [React]
---

웹 애플리케이션의 **성능을 최적화**하기 위해 Lazy Loading(지연 로딩)과 **Code Splitting(코드 분할)** 기술을 활용할 수 있다.

이 두 개념은 **초기 로딩 시간을 단축하고, 불필요한 리소스 로드를 방지**하는 데 중요한 역할을 한다.

---

## **1. Lazy Loading(지연 로딩)이란?**

**📌 Lazy Loading**은 **필요한 시점에만 리소스를 로드하는 기법**이다.

즉, **사용자가 특정 기능을 요청하기 전까지 해당 기능을 다운로드하지 않고 대기**하는 방식이다.

✅ **왜 Lazy Loading이 필요할까?**

- 초기 페이지 로딩 속도를 개선
- 불필요한 코드 다운로드 방지
- 네트워크 및 메모리 사용 최적화

✅ **React에서 Lazy Loading 구현 (React.lazy + Suspense)**

```tsx
import { lazy, Suspense } from "react";

// 동적으로 import
const HeavyComponent = lazy(() => import("./HeavyComponent"));

const App = () => {
  return (
    <Suspense fallback={<div>Loading...</div>}>
      <HeavyComponent />
    </Suspense>
  );
};
```

✔️ `lazy(() => import("./HeavyComponent"))`를 사용해 **컴포넌트를 동적으로 가져옴**.

✔️ `Suspense`의 `fallback` 속성을 이용해 **로딩 중 표시할 UI**를 설정.

✅ **라우트 기반 Lazy Loading (React Router 사용)**

```tsx
import { lazy, Suspense } from "react";
import { BrowserRouter as Router, Routes, Route } from "react-router-dom";

const Home = lazy(() => import("./pages/Home"));
const About = lazy(() => import("./pages/About"));

const App = () => {
  return (
    <Router>
      <Suspense fallback={<div>Loading...</div>}>
        <Routes>
          <Route path="/" element={<Home />} />
          <Route path="/about" element={<About />} />
        </Routes>
      </Suspense>
    </Router>
  );
};
```

✔️ 특정 라우트에 접근할 때만 해당 컴포넌트를 로드하여 **초기 로딩 성능을 최적화**할 수 있다.

---

## **2. Code Splitting(코드 분할)이란?**

**📌 Code Splitting**은 **애플리케이션의 번들을 여러 개의 작은 청크(파일)로 나누는 기술**이다.

즉, **필요한 코드만 먼저 다운로드하고, 나머지는 필요할 때 로드**하여 **초기 로딩 속도를 개선**한다.

✅ **왜 Code Splitting이 필요할까?**

- 번들 크기를 줄여 **초기 로딩 속도 단축**
- 불필요한 코드 다운로드 방지
- 사용자 경험(UX) 개선

✅ **Code Splitting 방법**

1️⃣ **Dynamic Import (웹팩 지원)**

```tsx
import("./module").then((module) => {
  module.someFunction();
});
```

✔️ `import()`를 사용하면 **해당 모듈을 필요할 때만 로드**할 수 있다.

2️⃣ **React에서 사용 (React.lazy 활용)**

```tsx
const SomeComponent = lazy(() => import("./SomeComponent"));
```

✔️ `lazy()`를 사용해 **해당 컴포넌트를 동적으로 로드**한다.

3️⃣ **웹팩에서 Code Splitting 설정**

웹팩을 직접 설정할 경우, `splitChunks` 옵션을 사용하여 번들 크기를 조절할 수 있다.

```
module.exports = {
  optimization: {
    splitChunks: {
      chunks: "all",
    },
  },
};

```

✔️ `chunks: "all"` 설정을 통해 **공통 모듈을 자동으로 분리**하여 로드할 수 있다.

---

## **3. Lazy Loading vs. Code Splitting 비교**

| 구분                 | **Lazy Loading**                 | **Code Splitting**                 |
| -------------------- | -------------------------------- | ---------------------------------- |
| **정의**             | 필요한 시점에 리소스를 로드      | 번들을 여러 개의 청크로 나눔       |
| **목적**             | 불필요한 코드 로딩 방지          | 번들 크기 최적화                   |
| **사용 예시**        | 이미지, 컴포넌트, 페이지 로드    | 페이지별/모듈별 코드 분할          |
| **React에서 사용법** | `React.lazy()` + `Suspense`      | `import()` 또는 웹팩 `splitChunks` |
| **적용 범위**        | 특정 기능(예: 모달, 다크모드 등) | 전체 애플리케이션                  |

---

## **4. Lazy Loading과 Code Splitting을 함께 사용하기**

```tsx
import { lazy, Suspense } from "react";
import { BrowserRouter as Router, Routes, Route } from "react-router-dom";

const Home = lazy(() => import("./pages/Home"));
const Dashboard = lazy(() => import("./pages/Dashboard"));

const App = () => {
  return (
    <Router>
      <Suspense fallback={<div>Loading...</div>}>
        <Routes>
          <Route path="/" element={<Home />} />
          <Route path="/dashboard" element={<Dashboard />} />
        </Routes>
      </Suspense>
    </Router>
  );
};
```

✔️ **Code Splitting으로 번들을 나누고, Lazy Loading으로 필요한 시점에 로드**하는 방식.

✔️ 초기 로딩 시 **필요한 코드만 로드하므로 성능이 개선**된다.

---

## **5. 결론**

🚀 **Lazy Loading과 Code Splitting은 웹 애플리케이션의 성능 최적화를 위한 필수적인 기법이다.**

✔️ **Lazy Loading**은 **필요할 때만 로드하여 초기 로딩 속도를 개선**하는 기술.

✔️ **Code Splitting**은 **번들을 여러 개의 청크로 나누어 불필요한 코드 다운로드를 방지**하는 기술.

✔️ **둘을 함께 활용하면 대규모 애플리케이션에서 성능 최적화가 극대화**된다. 🚀
