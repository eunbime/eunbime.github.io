---
title: 자바스크립트의 호이스팅(Hoisting)
date: 2025-01-31 10:00:00 +09:00
categories: [프론트엔드, JavaScript]
tags: [JavaScript, Hoisting]
---

# 호이스팅(Hoisting)이란?

> 호이스팅이란 **자바스크립트 엔진이 코드를 실행하기 전에 변수와 함수의 선언을 해당 스코프의 최상단으로 끌어올리는 현상**을 의미한다. 즉, 코드가 실행되기 전 변수와 함수의 선언이 메모리에 먼저 저장된다.

## 🤔 왜 호이스팅이 발생할까?

자바스크립트는 **인터프리터 언어**로 한 줄씩 실행되지만, 실행 전에 **실행 컨텍스트(Execution Context)**를 생성하고, 코드 실행을 위한 **메모리 할당 과정**을 거친다. 이 과정에서 변수와 함수의 선언이 먼저 등록되기 때문에, 코드에서 선언보다 먼저 해당 변수를 참조해도 오류 없이 동작할 수 있다.

### 실행 컨텍스트 과정

1. **변수 및 함수 선언 등록 (메모리 할당)** → 선언부가 실행 컨텍스트에 등록됨
2. **실제 코드 실행** → 변수 및 함수가 사용됨

이러한 과정에서 변수와 함수가 최상단으로 끌어올려진 것처럼 동작하게 된다.

---

## 2. 변수 호이스팅

변수의 경우 선언만 호이스팅되고, 할당은 원래 위치에 남아 있는다.

### 예제 1: `var`의 호이스팅

```
console.log(a); // undefined
var a = 10;
console.log(a); // 10

```

위 코드의 실행 과정은 다음과 같다.

```
var a; // 선언이 최상단으로 이동 (호이스팅)
console.log(a); // undefined (할당 전이므로 초기값 undefined)
a = 10; // 할당
console.log(a); // 10

```

### 예제 2: `let`, `const`의 호이스팅 (TDZ)

```
console.log(b); // ReferenceError: Cannot access 'b' before initialization
let b = 20;
console.log(b);

```

- `let`과 `const`로 선언된 변수는 **TDZ(Temporal Dead Zone)** 에 의해 선언 전에 접근할 수 없다.
- 따라서 `var`와 달리 undefined가 아닌 **ReferenceError**가 발생한다.

### TDZ(Temporal Dead Zone)란?

TDZ는 변수가 선언된 위치부터 초기화되기 전까지의 영역을 의미하며, 이 영역에서는 변수를 참조할 수 없다.

```
console.log(x); // ReferenceError
let x = 5; // 여기서 초기화됨
console.log(x); // 5

```

`let`과 `const`는 TDZ를 가지므로, 변수를 선언하기 전에 접근하는 것을 방지하여 **예측 가능한 코드 작성이 가능**하다.

---

## 3. 함수 호이스팅

함수 호이스팅은 **함수 선언문**과 **함수 표현식**에서 다르게 동작한다.

### 예제 1: 함수 선언문 (Hoisting O)

```
hello(); // "Hello, world!"
function hello() {
  console.log("Hello, world!");
}

```

함수 선언문은 선언부 전체가 호이스팅되어 어디서든 호출이 가능하다.

```
function hello() {  // 함수가 최상단으로 이동
  console.log("Hello, world!");
}
hello();

```

### 예제 2: 함수 표현식 (Hoisting X)

```
hello(); // TypeError: hello is not a function
var hello = function() {
  console.log("Hello!");
};

```

- `var`로 선언된 변수는 호이스팅되지만, **undefined로 초기화**되므로 실행 시 `TypeError`가 발생한다.
- 따라서 함수 표현식은 선언 전에 호출할 수 없다.

### 화살표 함수의 호이스팅

화살표 함수 역시 함수 표현식과 동일한 방식으로 동작하며, 선언 전에 호출할 수 없다.

```
console.log(arrowFunc()); // TypeError
const arrowFunc = () => "Arrow Function";

```

---

## 4. 함수 선언과 변수 선언의 호이스팅 차이

| 구분                | 선언문만 호이스팅        | 선언 + 초기화 호이스팅 |
| ------------------- | ------------------------ | ---------------------- |
| `var` 변수          | ✅ (초기값: `undefined`) | ❌                     |
| `let`, `const` 변수 | ✅ (TDZ 발생)            | ❌                     |
| 함수 선언문         | ✅ (함수 전체)           | ✅                     |
| 함수 표현식         | ✅ (초기값: `undefined`) | ❌                     |

---

## 5. 호이스팅을 방지하는 방법

1. **함수 표현식 사용**

   - 함수 선언문 대신 함수 표현식을 사용하면 호이스팅으로 인한 문제를 방지할 수 있다.

   ```
   const hello = function() {
     console.log("Hello!");
   };

   ```

2. **`let`과 `const` 사용**
   - `var` 대신 `let`이나 `const`를 사용하면 TDZ를 통해 변수를 선언 전 참조하는 것을 방지할 수 있다.
3. **코드를 선언 후 사용하는 방식으로 작성**
   - 변수를 선언한 후 사용하는 것이 가독성과 유지보수에 좋다.

---

## 6. 결론

호이스팅은 자바스크립트의 기본 동작 방식이지만, 의도치 않은 동작을 초래할 수 있다. 특히 `var`의 호이스팅으로 인해 **undefined 참조 문제**가 발생할 수 있으며, 함수 선언문과 표현식 간의 차이를 이해하지 못하면 예기치 않은 오류가 발생할 수 있다.

**따라서, `let`과 `const`를 사용하여 TDZ를 활용하고, 함수 표현식을 적극적으로 사용하여 호이스팅으로 인한 오류를 방지하는 것이 바람직하다.**
