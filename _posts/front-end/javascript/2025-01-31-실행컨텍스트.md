---
title: 자바스크립트의 실행 컨텍스트(Execution Context)
date: 2025-01-31 10:00:00 +09:00
categories: [프론트엔드, JavaScript]
tags: [JavaScript]
---

# 실행 컨텍스트란?

실행 컨텍스트는 **자바스크립트 코드가 실행되는 환경을 추상화한 개념**이다. 코드가 실행될 때 필요한 환경 정보들을 모아놓은 객체로, 변수, 함수 선언, `this` 바인딩 등의 정보가 포함된다.

실행 컨텍스트는 콜 스택(Call Stack)에 쌓이면서 코드의 실행 순서와 스코프를 관리하는 역할을 한다.

---

## 실행 컨텍스트의 생성 과정

자바스크립트 엔진은 코드를 실행하기 전에 **실행 가능한 코드**를 구분하는 과정을 거친다. 이를 통해 실행 컨텍스트가 생성되며, 주요 과정은 다음과 같다.

1. **전역 실행 컨텍스트 생성**
   - 스크립트가 실행되면 가장 먼저 전역 실행 컨텍스트가 생성된다.
   - 전역 컨텍스트는 전역 객체(`window` 또는 `global`), 전역 변수, 전역 함수 등을 포함한다.
2. **함수 실행 컨텍스트 생성**
   - 함수가 호출될 때마다 새로운 실행 컨텍스트가 생성된다.
   - 이 컨텍스트는 해당 함수의 지역 변수, 매개변수, 내부 함수 등을 관리한다.
3. **실행 컨텍스트 구성 요소**

   실행 컨텍스트는 다음과 같은 요소들로 구성된다.

   - **변수 환경(Variable Environment)**: 선언된 변수 및 함수가 저장되는 영역.
   - **렉시컬 환경(Lexical Environment)**: `let`, `const`로 선언된 변수와 클로저가 저장되는 영역.
   - **`this` 바인딩**: 실행 컨텍스트에서 `this`가 가리키는 객체를 저장하는 영역.

이 과정을 통해 모든 선언이 스코프에 등록되며, 코드 실행 전에 변수와 함수 선언이 저장되기 때문에 선언문보다 먼저 참조해도 오류 없이 동작할 수 있다.

---

## 스코프란?

스코프(Scope)는 **변수나 함수가 접근할 수 있는 유효한 범위**를 의미한다. 스코프는 변수의 가시성을 결정하며, 자바스크립트에서는 다음과 같은 종류가 있다.

### 1. 전역 스코프(Global Scope)

- 프로그램 어디서든 접근할 수 있는 범위.
- `var`, `let`, `const`를 사용하여 전역 변수 선언 가능하지만, 전역 변수는 가능한 한 최소화해야 한다.

### 2. 지역 스코프(Local Scope)

- 함수 내부에서 선언된 변수는 해당 함수 내에서만 접근 가능.
- 함수가 종료되면 해당 변수는 메모리에서 해제됨.

### 3. 블록 스코프(Block Scope)

- `{}` 중괄호로 감싸진 블록 내부에서만 접근할 수 있는 범위.
- `let`과 `const`는 블록 스코프를 가지며, `var`는 블록 스코프를 가지지 않음.

---

## 실행 컨텍스트와 스코프의 관계

실행 컨텍스트가 생성될 때 렉시컬 환경이 함께 생성되며, 이 환경을 통해 스코프 체인이 형성된다. 스코프 체인은 현재 실행 중인 컨텍스트가 필요한 변수를 찾을 때 **상위 스코프를 따라 올라가면서 변수를 검색하는 과정**이다. 이를 통해 변수가 어디에서 선언되었는지에 따라 접근 가능 여부가 결정된다.

### 예제 코드 분석

```jsx
var globalVar = "전역 변수";

function outerFunction() {
  let outerVar = "외부 함수 변수";

  function innerFunction() {
    let innerVar = "내부 함수 변수";
    console.log(innerVar); // 내부 함수에서 접근 가능
    console.log(outerVar); // 상위 스코프에서 변수 검색
    console.log(globalVar); // 전역 스코프에서 변수 검색
  }

  innerFunction();
}

outerFunction();
```

### 실행 컨텍스트와 스코프 체인 동작 방식

1. `outerFunction()` 실행 시 새로운 실행 컨텍스트가 생성됨.
2. `innerFunction()` 실행 시 또 다른 실행 컨텍스트가 생성됨.
3. `console.log(innerVar);` 실행 시 현재 스코프에서 `innerVar`를 찾음.
4. `console.log(outerVar);` 실행 시 현재 스코프에 없으므로 상위(렉시컬 환경)로 올라가서 `outerVar`를 찾음.
5. `console.log(globalVar);` 실행 시 더 상위인 전역 스코프에서 `globalVar`를 찾음.

이처럼 실행 컨텍스트와 스코프 체인은 코드 실행 중 변수 검색 및 참조 과정에서 중요한 역할을 한다.

---

## 결론

- **실행 컨텍스트**는 코드 실행 시 필요한 환경 정보를 저장하고, **콜 스택을 통해 코드 실행 흐름을 관리**한다.
- **스코프**는 변수 및 함수가 유효한 범위를 정의하며, **스코프 체인을 통해 변수 검색이 이루어진다.**
- 블록 스코프(`let`, `const`)와 함수 스코프(`var`)의 차이를 이해하고, 적절한 변수 선언 방식을 선택하는 것이 중요하다.
